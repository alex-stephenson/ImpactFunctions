% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create_xlsx_cleaning_log.R
\name{create_other_df}
\alias{create_other_df}
\title{Create a data frame linking 'other' text questions to their parent select questions}
\usage{
create_other_df(tool, choices)
}
\arguments{
\item{tool}{A data frame representing the "survey" sheet, containing at least
the columns \code{type}, \code{name}, and \code{relevant}.}

\item{choices}{A data frame representing the "choices" sheet, containing at least
the columns \code{list_name} and \code{name}.}
}
\value{
A data frame with one row per "other" text question, and two columns:
\describe{
\item{other_question}{The name of the "other" text question.}
\item{choices}{A semicolon-separated string of the answer choices associated with its parent question.}
}
}
\description{
This helper function identifies text questions in the survey tool that correspond to
"other (specify)" options in select questions. It then matches each "other" text
question with the list of answer choices from its parent select question.
}
\details{
The function looks for text-type questions whose \code{relevant} expression ends with an \verb{'other')}
condition, then extracts their parent question name. It matches these to the corresponding
select questions and compiles their answer choices from the choices sheet.
}
\examples{
\dontrun{
tool <- data.frame(
  type = c("select_one fruit_list", "text"),
  name = c("favorite_fruit", "favorite_fruit_other"),
  relevant = c(NA, "${favorite_fruit} = 'other')")
)
choices <- data.frame(
  list_name = "fruit_list",
  name = c("apple", "banana", "other")
)

create_other_df(tool, choices)
}

}
